{"ast":null,"code":"var _jsxFileName = \"/hdd1/Alejandro_02/cursos/UTNBA-FullStackDev/proyecto-final-front/linea_03/r-image/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport NavHeader from './NavHeader';\nimport ImgContainer from './ImgContainer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet categories_list = ['landscape', 'city', 'sky', 'nature', 'forest', 'sea', 'beach', 'mountain'];\nlet active_category = 'landscape';\nlet default_num_img = 12;\nlet pexels_per_page = 50;\nclass dataClass {\n  constructor(categories_list) {\n    this.categories = {};\n    categories_list.forEach(category => this.categories[category] = {\n      page: 0,\n      next_page: '',\n      availableIds: []\n    });\n    this.usedIds = [];\n    this.photos = {};\n  }\n  isIndUsedIds(id) {\n    return this.usedIds.includes(id);\n  }\n  isInCategories(id) {\n    return Object.values(this.categories).some(category => category.availableIds.includes(id));\n  }\n  push(category, json) {\n    this.categories[category].next_page = json.next_page;\n    this.categories[category].page = json.page;\n    json.photos.forEach(photo => {\n      if (this.isIndUsedIds(photo.id) === false && this.isInCategories(photo.id) === false) {\n        this.categories[category].availableIds.push(photo.id);\n        this.photos[photo.id] = photo;\n      }\n    });\n  }\n  getRandom(category, cantidad) {\n    const disponibles = () => this.categories[category].availableIds.length;\n    let random = [];\n    let ciclos = cantidad < disponibles() ? cantidad : disponibles();\n    while (random.length < ciclos) {\n      let index = Math.floor(Math.random() * (disponibles() - 1));\n      if (!random.includes(this.categories[category].availableIds[index])) {\n        let id = this.categories[category].availableIds.splice(index, 1).pop();\n        random.push(id);\n        this.usedIds.push(id);\n      }\n    }\n    this.usedIds.push();\n    return random;\n  }\n  getSrc(id, type) {\n    return this.photos[id].src[type];\n  }\n  getNextPage(category) {\n    return this.categories[category].next_page;\n  }\n  remove(ids) {\n    ids.forEach(id => delete this.photos[id]);\n  }\n}\n\n/*\nconst getJson = async (category, url) => {\n  try {\n      url = (url == '') ? `https://api.pexels.com/v1/search?query=${category}&per_page=${pexels_per_page}` : url;\n      let res = await fetch(url, { headers: { Authorization: '563492ad6f91700001000001c6df12244f84428fa8467b09ec5d6ff9' } });\n      let json = await res.json();\n      //console.log(res, json);\n\n      if (!res.ok) throw { status: res.status, statusText: res.statusText };\n\n      return json;\n\n  } catch (err) {\n      let message = err.statusText || \"Ocurrió un error\";\n      console.log(`Error ${err.status}: ${message}`);\n      return {};\n  }\n}\n\nconst getPhotos = async (category, cantidad) => {\n  if (data.categories[category].availableIds.length < cantidad) await data.push(category, await getJson(category, data.getNextPage(category)));\n  return data.getRandom(category, cantidad);\n}\n*/\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categoriesList: ['landscape', 'city', 'sky', 'nature', 'forest', 'sea', 'beach', 'mountain'],\n      categories: {},\n      usedIds: [],\n      photos: {}\n    };\n    this.state.categoriesList.forEach(category => this.state.categories[category] = {\n      page: 0,\n      next_page: '',\n      availableIds: []\n    });\n    //console.log(this.state);\n  }\n\n  isIndUsedIds(id) {\n    return this.state.usedIds.includes(id);\n  }\n  isInCategories(id) {\n    return Object.values(this.state.categories).some(category => category.availableIds.includes(id));\n  }\n  push(category, json) {\n    this.state.categories[category].next_page = json.next_page;\n    this.state.categories[category].page = json.page;\n    json.photos.forEach(photo => {\n      if (this.isIndUsedIds(photo.id) === false && this.isInCategories(photo.id) === false) {\n        this.state.categories[category].availableIds.push(photo.id);\n        this.state.photos[photo.id] = photo;\n      }\n    });\n  }\n  getRandom(category, cantidad) {\n    const disponibles = () => this.state.categories[category].availableIds.length;\n    let random = [];\n    let ciclos = cantidad < disponibles() ? cantidad : disponibles();\n    while (random.length < ciclos) {\n      let index = Math.floor(Math.random() * (disponibles() - 1));\n      if (!random.includes(this.state.categories[category].availableIds[index])) {\n        let id = this.state.categories[category].availableIds.splice(index, 1).pop();\n        random.push(id);\n        this.state.usedIds.push(id);\n      }\n    }\n    this.state.usedIds.push();\n    return random;\n  }\n  getSrc(id, type) {\n    return this.state.photos[id].src[type];\n  }\n  getNextPage(category) {\n    return this.state.categories[category].next_page;\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavHeader, {\n        categoriesList: this.state.categoriesList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImgContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n/*\nfunction App() {\n  return (\n    <div>\n      <NavHeader/>\n      <ImgContainer/>\n    </div>\n  );\n}\n*/\nexport default App;","map":{"version":3,"names":["React","NavHeader","ImgContainer","categories_list","active_category","default_num_img","pexels_per_page","dataClass","constructor","categories","forEach","category","page","next_page","availableIds","usedIds","photos","isIndUsedIds","id","includes","isInCategories","Object","values","some","push","json","photo","getRandom","cantidad","disponibles","length","random","ciclos","index","Math","floor","splice","pop","getSrc","type","src","getNextPage","remove","ids","App","Component","props","state","categoriesList","render"],"sources":["/hdd1/Alejandro_02/cursos/UTNBA-FullStackDev/proyecto-final-front/linea_03/r-image/src/App.js"],"sourcesContent":["import React from 'react';\nimport './App.css';\nimport NavHeader from './NavHeader';\nimport ImgContainer from './ImgContainer';\n\n\nlet categories_list = ['landscape', 'city', 'sky', 'nature', 'forest', 'sea', 'beach', 'mountain'];\nlet active_category = 'landscape';\nlet default_num_img = 12;\nlet pexels_per_page = 50;\n\nclass dataClass {\n  constructor(categories_list) {\n    this.categories = {}\n    categories_list.forEach(category => this.categories[category] = { page: 0, next_page: '', availableIds: [] });\n    this.usedIds = [];\n    this.photos = {};\n  }\n  isIndUsedIds(id) {\n    return this.usedIds.includes(id);\n  }\n  isInCategories(id) {\n    return Object.values(this.categories).some((category) => (category.availableIds.includes(id)));\n  }\n  push(category, json) {\n    this.categories[category].next_page = json.next_page;\n    this.categories[category].page = json.page;\n    json.photos.forEach(photo => {\n      if (this.isIndUsedIds(photo.id) === false && this.isInCategories(photo.id) === false) {\n        this.categories[category].availableIds.push(photo.id);\n        this.photos[photo.id] = photo;\n      }\n    })\n  }\n  getRandom(category, cantidad) {\n    const disponibles = () => this.categories[category].availableIds.length;\n    let random = [];\n    let ciclos = cantidad < disponibles() ? cantidad : disponibles();\n    while (random.length < ciclos) {\n      let index = Math.floor(Math.random() * (disponibles() - 1));\n      if (!random.includes(this.categories[category].availableIds[index])) {\n        let id = this.categories[category].availableIds.splice(index, 1).pop();\n        random.push(id);\n        this.usedIds.push(id);\n      }\n    }\n    this.usedIds.push()\n    return random;\n  }\n  getSrc(id, type) {\n    return this.photos[id].src[type];\n  }\n  getNextPage(category) {\n    return this.categories[category].next_page;\n  }\n  remove(ids) {\n    ids.forEach(id => delete this.photos[id]);\n  }\n}\n\n\n\n/*\nconst getJson = async (category, url) => {\n  try {\n      url = (url == '') ? `https://api.pexels.com/v1/search?query=${category}&per_page=${pexels_per_page}` : url;\n      let res = await fetch(url, { headers: { Authorization: '563492ad6f91700001000001c6df12244f84428fa8467b09ec5d6ff9' } });\n      let json = await res.json();\n      //console.log(res, json);\n\n      if (!res.ok) throw { status: res.status, statusText: res.statusText };\n\n      return json;\n\n  } catch (err) {\n      let message = err.statusText || \"Ocurrió un error\";\n      console.log(`Error ${err.status}: ${message}`);\n      return {};\n  }\n}\n\nconst getPhotos = async (category, cantidad) => {\n  if (data.categories[category].availableIds.length < cantidad) await data.push(category, await getJson(category, data.getNextPage(category)));\n  return data.getRandom(category, cantidad);\n}\n*/\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { categoriesList: ['landscape', 'city', 'sky', 'nature', 'forest', 'sea', 'beach', 'mountain'], categories: {}, usedIds: [], photos: {} };\n    this.state.categoriesList.forEach(category => this.state.categories[category] = { page: 0, next_page: '', availableIds: [] });\n    //console.log(this.state);\n  }\n\n  isIndUsedIds(id) {\n    return this.state.usedIds.includes(id);\n  }\n\n  isInCategories(id) {\n    return Object.values(this.state.categories).some((category) => (category.availableIds.includes(id)));\n  }\n\n  push(category, json) {\n    this.state.categories[category].next_page = json.next_page;\n    this.state.categories[category].page = json.page;\n    json.photos.forEach(photo => {\n      if (this.isIndUsedIds(photo.id) === false && this.isInCategories(photo.id) === false) {\n        this.state.categories[category].availableIds.push(photo.id);\n        this.state.photos[photo.id] = photo;\n      }\n    })\n  }\n\n  getRandom(category, cantidad) {\n    const disponibles = () => this.state.categories[category].availableIds.length;\n    let random = [];\n    let ciclos = cantidad < disponibles() ? cantidad : disponibles();\n    while (random.length < ciclos) {\n      let index = Math.floor(Math.random() * (disponibles() - 1));\n      if (!random.includes(this.state.categories[category].availableIds[index])) {\n        let id = this.state.categories[category].availableIds.splice(index, 1).pop();\n        random.push(id);\n        this.state.usedIds.push(id);\n      }\n    }\n    this.state.usedIds.push()\n    return random;\n  }\n\n  getSrc(id, type) {\n    return this.state.photos[id].src[type];\n  }\n  \n  getNextPage(category) {\n    return this.state.categories[category].next_page;\n  }\n\n  render() {\n    return (\n      <div>\n        <NavHeader categoriesList={this.state.categoriesList} />\n        <ImgContainer />\n      </div>\n    );\n  }\n\n}\n\n/*\nfunction App() {\n  return (\n    <div>\n      <NavHeader/>\n      <ImgContainer/>\n    </div>\n  );\n}\n*/\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}